"use strict";(self.webpackChunkskeleton=self.webpackChunkskeleton||[]).push([[474],{474:(D,_,s)=>{s.r(_),s.d(_,{default:()=>A});var r=s(6814),c=s(7818),u=s(1687),l=s(239),t=s(9468),g=s(9074),d=s(8642),m=s(4277),h=s(3946),O=s(220);function T(a,p){1&a&&t._UZ(0,"i",8)}function f(a,p){if(1&a){const e=t.EpF();t.TgZ(0,"i",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,i=t.oxw();return t.KtG(i.stopBench(o.Group,o.ProjectId,o.TestRunCount,o.Status))}),t.qZA()}}function Z(a,p){if(1&a&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td",5),t.YNc(14,T,1,0,"i",6),t.YNc(15,f,1,0,"i",7),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.ALo(20,"date"),t.qZA()()),2&a){const e=p.$implicit,n=p.index;t.xp6(2),t.Oqu(n+1),t.xp6(2),t.Oqu(e.TestBenchName),t.xp6(2),t.Oqu(e.PanelName),t.xp6(2),t.Oqu(e.ProjectType),t.xp6(2),t.Oqu(e.ProjectId),t.xp6(2),t.Oqu(e.ProjectName),t.xp6(2),t.Q6J("ngIf","Idle"==e.Status||"Stop"==e.Status),t.xp6(1),t.Q6J("ngIf","Running"==e.Status||"Starting"==e.Status),t.xp6(2),t.Oqu(e.ReasonOfStop),t.xp6(2),t.Oqu(t.Dn7(20,10,e.LastStopDate,"dd/MM/yyyy, HH:mm:ss","UTC"))}}let A=(()=>{class a{constructor(e,n,o,i){this.headerService=e,this.router=n,this.maintenanceToolService=o,this.modalService=i,e.setHeaderName("Remote Operation")}ngOnInit(){this.intervalSubscription=(0,u.F)(5e3).subscribe(()=>{this.getOperationData()})}getOperationData(){this.maintenanceToolService.getOperations().subscribe(e=>{e.map((n,o)=>{"Running"==n.Status&&(e[o].ReasonOfStop="-",e[o].LastStopDate="-")}),this.operationList=e,console.log(this.operationList)})}stopBench(e,n,o,i){this.projectId=n,this.status=i,this.testno=o,this.group=e,this.toggleRemoteStop()}toggleRemoteStop(){if("Running"!==this.status)return;console.log(this.group,"group");const e={group:this.group,projectId:this.projectId,testId:this.testno},n=this.modalService.open(l.A,{size:"lg"});n.componentInstance.inputData=e,n.result.then(o=>{1==o.isSearch&&console.log(o)},o=>{console.log(`Modal dismissed with: ${JSON.stringify(o)}`)})}ngOnDestroy(){this.intervalSubscription&&this.intervalSubscription.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||a)(t.Y36(g.r),t.Y36(d.F0),t.Y36(m.W),t.Y36(h.FF))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-remote-operation"]],standalone:!0,features:[t.jDz],decls:35,vars:2,consts:[["cardTitle","Remote Operation",3,"options"],[1,"row","justify-content-end"],[1,"table-responsive"],[1,"table","table-styling"],[4,"ngFor","ngForOf"],[1,"td-i"],["aria-hidden","true","class","fa fa-stop-circle","style","color: rgba(206, 50, 50, 0.884);",4,"ngIf"],["aria-hidden","true","class","fa fa-play-circle","style","color: rgba(19, 133, 19, 0.884);",3,"click",4,"ngIf"],["aria-hidden","true",1,"fa","fa-stop-circle",2,"color","rgba(206, 50, 50, 0.884)"],["aria-hidden","true",1,"fa","fa-play-circle",2,"color","rgba(19, 133, 19, 0.884)",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"app-card",0)(1,"div",1)(2,"div",2)(3,"table",3)(4,"thead")(5,"tr")(6,"th")(7,"span"),t._uU(8,"Sr. No."),t.qZA()(),t.TgZ(9,"th")(10,"span"),t._uU(11,"Test Bench"),t.qZA()(),t.TgZ(12,"th")(13,"span"),t._uU(14,"IOT Panel"),t.qZA()(),t.TgZ(15,"th")(16,"span"),t._uU(17,"Project Type"),t.qZA()(),t.TgZ(18,"th")(19,"span"),t._uU(20,"Project ID"),t.qZA()(),t.TgZ(21,"th")(22,"span"),t._uU(23,"Project Name"),t.qZA()(),t.TgZ(24,"th")(25,"span"),t._uU(26,"Test Bench Status"),t.qZA()(),t.TgZ(27,"th")(28,"span"),t._uU(29,"Last Stop Reason"),t.qZA()(),t.TgZ(30,"th")(31,"span"),t._uU(32,"Last Stop Date"),t.qZA()()()(),t.TgZ(33,"tbody"),t.YNc(34,Z,21,14,"tr",4),t.qZA()()()()()),2&n&&(t.Q6J("options",!1),t.xp6(34),t.Q6J("ngForOf",o.operationList))},dependencies:[r.ez,r.sg,r.O5,r.uU,c.m,O.A],styles:["i.fa[_ngcontent-%COMP%]{font-size:18px}"]})}return a})()}}]);