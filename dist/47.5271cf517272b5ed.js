"use strict";(self.webpackChunkskeleton=self.webpackChunkskeleton||[]).push([[47],{8193:(E,M,d)=>{d.d(M,{Z:()=>w});var n=d(9468),b=d(6814),F=d(7818),A=d(8351),T=d(3946),j=d(95);function C(f,t){if(1&f){const c=n.EpF();n.TgZ(0,"span",18),n.NdJ("mouseenter",function(){const m=n.CHM(c).$implicit,_=n.oxw();return n.KtG(_.hoveredDate=m)})("mouseleave",function(){n.CHM(c);const p=n.oxw();return n.KtG(p.hoveredDate=null)}),n._uU(1),n.qZA()}if(2&f){const c=t.$implicit,g=t.focused,p=n.oxw();n.ekj("focused",g)("range",p.isRange(c))("faded",p.isHovered(c)||p.isInside(c)),n.xp6(1),n.hij(" ",c.day," ")}}let w=(()=>{class f{constructor(c){this.activeModal=c,this.calendar=(0,n.f3M)(T.vL),this.hoveredDate=null,this.fromDate=this.calendar.getToday(),this.toDate=this.calendar.getNext(this.fromDate,"d",-1),this.currentDate=new Date,this.startTime={hour:this.currentDate.getHours(),minute:this.currentDate.getMinutes()},this.endTime={hour:this.currentDate.getHours(),minute:this.currentDate.getMinutes()}}ngOnInit(){console.log(this.inputData);const c=this.inputData.startDate,g=this.inputData.endDate;this.fromDate={year:c.getFullYear(),month:c.getMonth()+1,day:c.getDate()},this.toDate={year:g.getFullYear(),month:g.getMonth()+1,day:g.getDate()};const p=c.getHours(),m=c.getMinutes(),_=g.getHours(),Z=g.getMinutes();this.startTime={hour:p,minute:m},this.endTime={hour:_,minute:Z}}onDateSelection(c){this.fromDate||this.toDate?this.fromDate&&!this.toDate&&c.after(this.fromDate)?this.toDate=c:(this.toDate=null,this.fromDate=c):this.fromDate=c}isHovered(c){return this.fromDate&&!this.toDate&&this.hoveredDate&&c.after(this.fromDate)&&c.before(this.hoveredDate)}isInside(c){return this.toDate&&c.after(this.fromDate)&&c.before(this.toDate)}isRange(c){return c.equals(this.fromDate)||this.toDate&&c.equals(this.toDate)||this.isInside(c)||this.isHovered(c)}selectDataAndClose(){this.activeModal.close({isUpdated:!0,dateData:{startDate:this.fromDate,endDate:this.toDate,startTime:this.startTime,endTime:this.endTime}})}closeModal(){this.activeModal.dismiss({isUpdated:!1})}static#t=this.\u0275fac=function(g){return new(g||f)(n.Y36(T.Kz))};static#e=this.\u0275cmp=n.Xpm({type:f,selectors:[["app-datatime-range-modal"]],inputs:{inputData:"inputData"},standalone:!0,features:[n.jDz],decls:26,vars:4,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],["outsideDays","hidden",1,"range-datetimepicker",3,"displayMonths","dayTemplate","dateSelect"],["dp",""],["t",""],[1,"col-md-6","col-sm-6"],[3,"ngModel","ngModelChange"],[1,"row","justify-content-end"],[1,"col-xl-3","col-md-3","col-sm-6"],["type","button","ngbAutofocus","",1,"btn","btn-block","btn-primary","mb-4",3,"click"],[1,"fas","fa-check"],[1,"col-xl-4","col-md-3","col-sm-6"],["type","button",1,"btn","btn-block","btn-primary","mb-4",3,"click"],[1,"fas","fa-times"],[1,"custom-day",3,"mouseenter","mouseleave"]],template:function(g,p){if(1&g&&(n.TgZ(0,"div",0)(1,"h6",1),n._uU(2,"Select Date"),n.qZA(),n.TgZ(3,"button",2),n.NdJ("click",function(){return p.closeModal()}),n.TgZ(4,"span",3),n._uU(5,"\xd7"),n.qZA()()(),n.TgZ(6,"div",4)(7,"div",5)(8,"ngb-datepicker",6,7),n.NdJ("dateSelect",function(_){return p.onDateSelection(_)}),n.qZA(),n.YNc(10,C,2,7,"ng-template",null,8,n.W1O),n.qZA(),n.TgZ(12,"div",5)(13,"div",9)(14,"ngb-timepicker",10),n.NdJ("ngModelChange",function(_){return p.startTime=_}),n.qZA()(),n.TgZ(15,"div",9)(16,"ngb-timepicker",10),n.NdJ("ngModelChange",function(_){return p.endTime=_}),n.qZA()()(),n.TgZ(17,"div",11)(18,"div",12)(19,"button",13),n.NdJ("click",function(){return p.selectDataAndClose()}),n._UZ(20,"i",14),n._uU(21," Apply "),n.qZA()(),n.TgZ(22,"div",15)(23,"button",16),n.NdJ("click",function(){return p.closeModal()}),n._UZ(24,"i",17),n._uU(25," Cancel "),n.qZA()()()()),2&g){const m=n.MAs(11);n.xp6(8),n.Q6J("displayMonths",2)("dayTemplate",m),n.xp6(6),n.Q6J("ngModel",p.startTime),n.xp6(2),n.Q6J("ngModel",p.endTime)}},dependencies:[b.ez,F.m,j.JJ,j.On,T.VL,T.Pm,A.Qf],styles:[".modal-title{font-style:normal;font-weight:400}  .modal-header{padding:10px}  .close{border-radius:50%;padding:0 8px;border-color:#666}  .modal-row-border{border-color:#ced4da;border-style:solid;border-width:.8px;border-radius:5px;padding:10px;margin:20px 10px}  .ml-10{margin-left:10px}  .mb-5{margin-bottom:5px}  .custom-day{text-align:center;padding:.185rem .25rem;display:inline-block;height:2rem;width:2rem}  .custom-day.focused{background-color:#e6e6e6}  .custom-day.range,   .custom-day:hover{background-color:#0275d8;color:#fff}  .custom-day.faded{background-color:#0275d880}  .range-datetimepicker{overflow-x:scroll}@media only screen and (max-width: 768px){  .col-sm-6{width:50%}}"]})}return f})()},9047:(E,M,d)=>{d.r(M),d.d(M,{default:()=>xt});var n=d(6814),b=d(8351),F=d(1687),A=d(3182),T=d(7844),j=d(814),C=d(239),w=d(7818),f=d(8193),t=d(9468),c=d(7635),g=d(7911),p=d(9074),m=d(3946),_=d(589),Z=d(5026),y=d(8672),k=d(8642),q=d(220);function L(i,l){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit,o=t.oxw(2);t.xp6(1),t.Oqu(o.projectDetails[e.property])}}function B(i,l){if(1&i&&(t.TgZ(0,"app-card",43)(1,"label",44),t._UZ(2,"i"),t._uU(3),t.qZA(),t.TgZ(4,"label",45),t.YNc(5,L,2,1,"span",46),t.qZA()()),2&i){const e=t.oxw().$implicit,o=t.oxw(2);t.s9C("cardClass",e.background),t.Q6J("hidHeader",!0),t.xp6(2),t.Gre("feather float-start ",e.icon,""),t.xp6(1),t.Oqu(e.title),t.xp6(2),t.Q6J("ngIf",o.projectDetails)}}function N(i,l){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit,o=t.oxw(2);t.xp6(1),t.Oqu(o.projectDetails[e.property])}}function J(i,l){if(1&i&&(t.TgZ(0,"app-card",43)(1,"label",44),t._UZ(2,"i"),t._uU(3),t.qZA(),t.TgZ(4,"label",45),t.YNc(5,N,2,1,"span",46),t.qZA()()),2&i){const e=t.oxw().$implicit,o=t.oxw(2);t.s9C("cardClass","Running"===o.projectDetails[e.property]?"bg-c-green":"Stop"===o.projectDetails[e.property]?"bg-c-red":"bg-secondary"),t.Q6J("hidHeader",!0),t.xp6(2),t.Gre("feather float-start ",e.icon,""),t.xp6(1),t.Oqu(e.title),t.xp6(2),t.Q6J("ngIf",o.projectDetails)}}function K(i,l){if(1&i&&(t.TgZ(0,"div",41),t.YNc(1,B,6,7,"app-card",42),t.YNc(2,J,6,7,"app-card",42),t.qZA()),2&i){const e=l.last;t.xp6(1),t.Q6J("ngIf",!e),t.xp6(1),t.Q6J("ngIf",e)}}function H(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"a",12),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openModal("Favourite"))}),t._uU(1,"Mark as Favourite "),t._UZ(2,"i",47),t.qZA()}}function Q(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"a",48),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.deletFav())}),t._uU(1,"Favourite "),t._UZ(2,"i",47),t.qZA()}}function Y(i,l){1&i&&(t.TgZ(0,"div",53),t.O4$(),t.TgZ(1,"svg",54),t._UZ(2,"path",55),t.qZA()())}function W(i,l){1&i&&(t.TgZ(0,"div",56),t.O4$(),t.TgZ(1,"svg",54),t._UZ(2,"path",57),t.qZA()())}const z=function(i,l){return{"bg-c-green":i,"bg-secondary":l}};function G(i,l){if(1&i&&(t.TgZ(0,"div",49)(1,"div",50),t._uU(2),t.qZA(),t.YNc(3,Y,3,0,"div",51),t.YNc(4,W,3,0,"div",52),t.qZA()),2&i){const e=l.$implicit,o=l.index,a=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.WLB(4,z,e.status,!e.status)),t.xp6(1),t.hij(" ",e.title," "),t.xp6(1),t.Q6J("ngIf",o!==a.testBenchSequence.length-1),t.xp6(1),t.Q6J("ngIf",o!==a.testBenchSequence.length-1)}}function $(i,l){if(1&i&&(t.TgZ(0,"div",63),t._UZ(1,"fusioncharts",64),t.TgZ(2,"div",65)(3,"div",66)(4,"p",67),t._uU(5),t.qZA()()()()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("width",e.width)("height",e.height)("type","angulargauge")("dataFormat",e.dataFormat)("dataSource",e.dataSourcePumpRPM1),t.xp6(4),t.hij(" Motor Hz SP: ",e.dash.Set_MotorRPM||0," Hz ")}}function X(i,l){if(1&i&&(t.TgZ(0,"div",63),t._UZ(1,"fusioncharts",64)(2,"div",80),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("width",e.width)("height",e.height)("type","angulargauge")("dataFormat",e.dataFormat)("dataSource",e.dataSourcePumpRPMAirPressure)}}function tt(i,l){if(1&i&&(t.TgZ(0,"div")(1,"div",81)(2,"div",82),t._UZ(3,"img",83),t.qZA(),t.TgZ(4,"div",84)(5,"div",85)(6,"p",86),t._uU(7),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"div",87)(10,"p",76),t._uU(11,"Motor Power"),t.qZA()()()()(),t.TgZ(12,"div",88)(13,"div",84)(14,"div",85)(15,"p",86),t._uU(16),t.ALo(17,"number"),t.qZA(),t.TgZ(18,"div",87)(19,"p",76),t._uU(20,"Motor AMP"),t.qZA()()()()()()),2&i){const e=t.oxw(3);t.xp6(7),t.hij("",t.xi3(8,2,e.dash.MotorKW||0,"1.1-1")," kW"),t.xp6(9),t.hij("",t.xi3(17,5,e.dash.MotorAMP||0,"1.1-1")," AMP")}}function et(i,l){if(1&i&&(t.TgZ(0,"div")(1,"div",81)(2,"div",82),t._UZ(3,"img",83),t.qZA(),t.TgZ(4,"div",84)(5,"div",85)(6,"p",86),t._uU(7),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"div",87)(10,"p",76),t._uU(11,"Motor Power"),t.qZA()()()()(),t.TgZ(12,"div",88)(13,"div",84)(14,"div",85)(15,"p",86),t._uU(16),t.ALo(17,"number"),t.qZA(),t.TgZ(18,"div",87)(19,"p",76),t._uU(20,"Motor AMP"),t.qZA()()()()()()),2&i){const e=t.oxw(4);t.xp6(7),t.hij("",t.xi3(8,2,e.dash.MotorKW||0,"1.1-1")," kW"),t.xp6(9),t.hij("",t.xi3(17,5,e.dash.MotorAMP||0,"1.1-1")," AMP")}}function it(i,l){if(1&i&&(t.TgZ(0,"div",63)(1,"div",89)(2,"div",90)(3,"div",85)(4,"div",91)(5,"p",76),t._uU(6,"Inlet Air Flow"),t.qZA()(),t.TgZ(7,"p",86),t._uU(8),t.ALo(9,"number"),t.qZA()()()(),t.TgZ(10,"div",92)(11,"div",84)(12,"div",93)(13,"div",91)(14,"p",76),t._uU(15,"Stroke Count / Min"),t.qZA()(),t.TgZ(16,"p",86),t._uU(17),t.qZA()()()(),t.TgZ(18,"div",92)(19,"div",84)(20,"div",93)(21,"div",91)(22,"p",76),t._uU(23,"Air Valve Output"),t.qZA()(),t.TgZ(24,"p",86),t._uU(25),t.ALo(26,"number"),t.qZA()()()()()),2&i){const e=t.oxw(5);t.xp6(8),t.hij("",t.xi3(9,3,e.dash.AoddInAirSCFMPV||0,"1.1-1")," SCFM"),t.xp6(9),t.hij("",e.dash.StrokeCountRate||0," "),t.xp6(8),t.hij("",t.xi3(26,6,e.dash.InAirPressSP||0,"1.1-2"),"% ")}}function ot(i,l){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,it,27,9,"div",62),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf","EODD"!==e.projectDetails.ProjectType)}}function at(i,l){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,et,21,8,"div",46),t.YNc(2,ot,2,1,"div",46),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf","AODD"!==e.projectDetails.ProjectType),t.xp6(1),t.Q6J("ngIf","EODD"!==e.projectDetails.ProjectType)}}function nt(i,l){1&i&&(t.TgZ(0,"h6",76),t._uU(1,"Project Kwh"),t.qZA())}function rt(i,l){1&i&&(t.TgZ(0,"h6",76),t._uU(1,"Project Stroke Count"),t.qZA())}function st(i,l){if(1&i&&(t.TgZ(0,"h5",75),t._uU(1),t.ALo(2,"number"),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",t.xi3(2,1,e.dash.MotorKwhProject||"0","1.1-3"),"")}}function ct(i,l){if(1&i&&(t.TgZ(0,"h5",75),t._uU(1),t.ALo(2,"number"),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",t.xi3(2,1,e.dash.aoddProjStrokeCount||"0","1.0-3"),"")}}function lt(i,l){1&i&&(t.TgZ(0,"h6",76),t._uU(1,"Last RunTime"),t.qZA())}function dt(i,l){1&i&&(t.TgZ(0,"h6",76),t._uU(1,"Test Running Time"),t.qZA())}function ht(i,l){1&i&&(t.TgZ(0,"h6",76),t._uU(1,"Test Kwh"),t.qZA())}function ut(i,l){1&i&&(t.TgZ(0,"h6",76),t._uU(1,"Test Stroke Count"),t.qZA())}function pt(i,l){if(1&i&&(t.TgZ(0,"h5",75),t._uU(1),t.ALo(2,"number"),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",t.xi3(2,1,e.dash.MotorKwhTest||0,"1.1-3"),"")}}function gt(i,l){if(1&i&&(t.TgZ(0,"h5",75),t._uU(1),t.ALo(2,"number"),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",t.xi3(2,1,e.dash.StrokeCount||0,"1.0-3"),"")}}const mt=function(i){return{color:i}};function _t(i,l){if(1&i&&(t.TgZ(0,"div",58)(1,"div",59)(2,"div",60)(3,"div",61),t._uU(4," Inlet Air Pressure "),t.qZA(),t.YNc(5,$,6,6,"div",62),t.YNc(6,X,3,5,"div",62),t.qZA(),t.TgZ(7,"div",60)(8,"div",61),t._uU(9," Discharge Pressure "),t.qZA(),t.TgZ(10,"div",63),t._UZ(11,"fusioncharts",64),t.TgZ(12,"div",65)(13,"div",66)(14,"p",67),t._uU(15),t.ALo(16,"number"),t.qZA()()()()(),t.TgZ(17,"div",60)(18,"div",61),t._uU(19," Discharge Flow "),t.qZA(),t.TgZ(20,"div",63),t._UZ(21,"fusioncharts",64),t.qZA()(),t.TgZ(22,"div",60),t.YNc(23,tt,21,8,"div",46),t.YNc(24,at,3,2,"div",46),t.qZA(),t.TgZ(25,"div",68)(26,"div",19)(27,"div",69),t._uU(28),t.ALo(29,"date"),t.qZA()(),t.TgZ(30,"div",70)(31,"div",71)(32,"div",72)(33,"div",73)(34,"h6",74),t._uU(35,"Project RunTime"),t.qZA()(),t.TgZ(36,"h5",75),t._uU(37),t.qZA()()(),t.TgZ(38,"div",71)(39,"div",72)(40,"div",73)(41,"h6",76),t._uU(42,"Project Production"),t.qZA()(),t.TgZ(43,"h5",75),t._uU(44),t.ALo(45,"number"),t.qZA()()(),t.TgZ(46,"div",71)(47,"div",72)(48,"div",73),t.YNc(49,nt,2,0,"h6",77),t.YNc(50,rt,2,0,"h6",77),t.qZA(),t.YNc(51,st,3,4,"h5",78),t.YNc(52,ct,3,4,"h5",78),t.qZA()(),t.TgZ(53,"div",71)(54,"div",72)(55,"div",79),t.YNc(56,lt,2,0,"h6",77),t.YNc(57,dt,2,0,"h6",77),t.qZA(),t.TgZ(58,"h5",75),t._uU(59),t.qZA()()(),t.TgZ(60,"div",71)(61,"div",72)(62,"div",73)(63,"h6",76),t._uU(64,"Test Production"),t.qZA()(),t.TgZ(65,"h5",75),t._uU(66),t.ALo(67,"number"),t.qZA()()(),t.TgZ(68,"div",71)(69,"div",72)(70,"div",79),t.YNc(71,ht,2,0,"h6",77),t.YNc(72,ut,2,0,"h6",77),t.qZA(),t.YNc(73,pt,3,4,"h5",78),t.YNc(74,gt,3,4,"h5",78),t.qZA()()()()()()),2&i){const e=t.oxw(2);t.xp6(5),t.Q6J("ngIf","EODD"===e.projectDetails.ProjectType),t.xp6(1),t.Q6J("ngIf","AODD"===e.projectDetails.ProjectType),t.xp6(5),t.Q6J("width",e.width)("height",e.height)("type","angulargauge")("dataFormat",e.dataFormat)("dataSource",e.dataSourceDischargePressure),t.xp6(4),t.hij(" SP: ",t.xi3(16,31,e.dash.DischargePressureSP||0,"1.1-2")," BAR "),t.xp6(6),t.Q6J("width",e.width)("height",e.height)("type","angulargauge")("dataFormat",e.dataFormat)("dataSource",e.dataSourceDischargeFlow),t.xp6(2),t.Q6J("ngIf","AODD"!==e.projectDetails.ProjectType),t.xp6(1),t.Q6J("ngIf","EODD"!==e.projectDetails.ProjectType),t.xp6(3),t.Q6J("ngStyle",t.VKq(44,mt,"Running"===e.projectDetails.Status||"Starting"===e.projectDetails.Status?"gray":"red")),t.xp6(1),t.hij(" Last Data Timestamp : ",t.Dn7(29,34,e.dash.DateTime,"dd/MM/yyyy, HH:mm:ss","UTC")," "),t.xp6(9),t.Oqu(e.Time),t.xp6(7),t.hij("",t.xi3(45,38,e.dash.ProjectTotalizer||"0","1.1-1")," L"),t.xp6(5),t.Q6J("ngIf","EODD"===e.projectDetails.ProjectType),t.xp6(1),t.Q6J("ngIf","AODD"===e.projectDetails.ProjectType),t.xp6(1),t.Q6J("ngIf","EODD"===e.projectDetails.ProjectType),t.xp6(1),t.Q6J("ngIf","AODD"===e.projectDetails.ProjectType),t.xp6(4),t.Q6J("ngIf","Running"!==e.projectDetails),t.xp6(1),t.Q6J("ngIf","Running"===e.projectDetails),t.xp6(2),t.Oqu(e.calTime||0),t.xp6(7),t.hij("",t.xi3(67,41,e.dash.TestTotalizer||"0","1.1-1")," L"),t.xp6(5),t.Q6J("ngIf","EODD"===e.projectDetails.ProjectType),t.xp6(1),t.Q6J("ngIf","AODD"===e.projectDetails.ProjectType),t.xp6(1),t.Q6J("ngIf","EODD"===e.projectDetails.ProjectType),t.xp6(1),t.Q6J("ngIf","AODD"===e.projectDetails.ProjectType)}}function ft(i,l){if(1&i&&(t.TgZ(0,"th",94),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.xp6(1),t.Oqu(e)}}function vt(i,l){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&i){const e=l.$implicit,o=t.oxw().$implicit;t.xp6(1),t.Oqu(o[e])}}function Dt(i,l){if(1&i&&(t.TgZ(0,"tr"),t.YNc(1,vt,2,1,"td",40),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.displayedColumns)}}function Tt(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",3),t.YNc(2,K,3,2,"div",4),t.qZA(),t.TgZ(3,"div",5)(4,"ul",6)(5,"li",7)(6,"div",8)(7,"label",9),t._uU(8,"Remote Stop"),t.qZA(),t.TgZ(9,"div",10)(10,"input",11),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.toggleRemoteStop())}),t.qZA()()()(),t.TgZ(11,"li",7)(12,"a",12),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.openMaintenanceModal())}),t._uU(13,"Maintenance Log "),t._UZ(14,"i",13),t.qZA()(),t.TgZ(15,"li",7)(16,"a",12),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.openModal("User Notes"))}),t._uU(17,"User Notes "),t._UZ(18,"i",14),t.qZA()(),t.TgZ(19,"li",7),t.YNc(20,H,3,0,"a",15),t.YNc(21,Q,3,0,"a",16),t.qZA()()(),t.TgZ(22,"div",17)(23,"app-card",18)(24,"div",19),t.YNc(25,G,5,7,"div",20),t.qZA()()(),t.TgZ(26,"div",21)(27,"app-card",22)(28,"div",19),t.YNc(29,_t,75,46,"div",23),t.qZA()()(),t.TgZ(30,"div",24)(31,"app-card",25)(32,"div",19)(33,"div",26)(34,"div",27),t._uU(35,"Parameter Trend View"),t.qZA()(),t.TgZ(36,"div",28)(37,"span",29),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.openDateTimeModal())}),t._UZ(38,"i",30),t._uU(39),t.qZA(),t._uU(40,"\xa0 "),t.TgZ(41,"button",31),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onreset())}),t._UZ(42,"i",13),t.qZA()()(),t.TgZ(43,"div",19),t._UZ(44,"app-time-series",32),t.qZA()()(),t.TgZ(45,"div",33)(46,"app-card",34)(47,"div",35)(48,"table",36)(49,"thead")(50,"tr",37),t.YNc(51,ft,2,1,"th",38),t.qZA()(),t.TgZ(52,"tbody",39),t.YNc(53,Dt,2,1,"tr",40),t.qZA()()()()()()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.tempData),t.xp6(8),t.Q6J("checked","Running"===e.projectDetails.Status)("disabled","Running"!==e.projectDetails.Status),t.xp6(10),t.Q6J("ngIf",!e.favSelect),t.xp6(1),t.Q6J("ngIf",e.favSelect),t.xp6(2),t.Q6J("options",!1),t.xp6(2),t.Q6J("ngForOf",e.testBenchSequence),t.xp6(2),t.Q6J("options",!1),t.xp6(2),t.Q6J("ngIf",e.showChart),t.xp6(2),t.Q6J("options",!1),t.xp6(8),t.hij(" ",e.formattedDateTimeRange," "),t.xp6(5),t.Q6J("_customRangeSelector",!0),t.xp6(2),t.Q6J("options",!1),t.xp6(5),t.Q6J("ngForOf",e.displayedColumns),t.xp6(2),t.Q6J("ngForOf",e.tableData)}}let xt=(()=>{class i{constructor(e,o,a,r,s,h,v,u){this.authService=e,this.toastService=o,this.headerService=a,this.modalService=r,this.projectService=s,this.dashService=h,this.spinner=v,this.route=u,this.tempData=[{background:"bg-secondary",title:"Name",icon:"icon-edit",property:"ProjectName"},{background:"bg-secondary",title:"Number",icon:"icon-tag",property:"ProjectNo"},{background:"bg-secondary",title:"Owner",icon:"icon-user",property:"ProjectOwner"},{background:"bg-secondary",title:"Type",icon:"icon-grid",property:"ProjectType"},{background:"bg-secondary",title:"Test Runs",icon:"icon-aperture",property:"TestRunCount"},{background:"bg-secondary",title:"Configuration",icon:"icon-sliders",property:"ProjectConfig"},{background:"bg-secondary",title:"State",icon:"icon-activity",property:"Status"}],this.tableView=!0,this.storevalue=0,this.favSelect=!1,this.displayedColumns=[],this.height="120",this.width="145",this.type="angulargauge",this.dataFormat="json",this.showChart=!1,this.selectedTimeRange="1",this.Time="",this.time=[],this.dataForPumpRPM=[],this.dataForDisPre=[],this.dataForDisPreSP=[],this.dataForDisFlow=[],this.dataForMotorPower=[],this.dataForStrokeRate=[],this.dataForInAirPV=[],this.dataForInAirSP=[],this.dataForMotorKW=[],this.dataForMotorKWh=[],this.dataForMotorAMP=[],this.dataForMotorRPM=[],this.count=0,this.ProjectId=this.route.snapshot.params.id,this.headerService.setHeaderName("Running Projects");const D=this.authService.getFullNameFromToken();this.uid=D.uid,this.spinner.show()}ngOnInit(){this.ProjectId?this.getProjectAnalytics():this.projectService.getLastRunData().subscribe(e=>{this.ProjectId=e[0].ProjectId,this.getProjectAnalytics()})}ngOnDestroy(){this.intervalSubscription?.unsubscribe(),this.intervalCharSubscription?.unsubscribe()}getProjectAnalytics(){this.intervalSubscription=(0,F.F)(5e3).subscribe(()=>{this.projectService.getProjectDetails(this.ProjectId).subscribe(e=>{this.projectDetails=e[0],this.headerService.setHeaderName(`${this.projectDetails.Status} Project - Test Bench ${this.projectDetails.TestBenchId}`),"Running"!==this.projectDetails.Status?0==this.count&&(this.getTimeSeriesDetails(),this.getTestBenchData(),this.count=1):(this.getTimeSeriesDetails(),this.getTestBenchData(),this.count=0)})})}openModal(e){console.log(this.projectDetails);const o={title:e,projectId:this.ProjectId,testId:this.testno,mode:"add"},a=this.modalService.open(j._,{size:"lg"});a.componentInstance.inputData=o,a.result.then(r=>{console.log(r),1==r.isSearch&&(console.log(r),this.getFavorite())},r=>{console.log(`Modal dismissed with: ${JSON.stringify(r)}`)})}openMaintenanceModal(){const e={projectId:this.ProjectId,testId:this.testno,mode:"add"},o=this.modalService.open(T.l,{size:"lg"});o.componentInstance.inputData=e,o.result.then(a=>{1==a.isSearch&&console.log(a)},a=>{console.log(`Modal dismissed with: ${JSON.stringify(a)}`)})}toggleRemoteStop(){if("Running"!==this.projectDetails.Status)return;console.log(this.projectDetails.Group,"group");const e={group:this.projectDetails.Group,projectId:this.ProjectId,testId:this.testno},o=this.modalService.open(C.A,{size:"lg"});o.componentInstance.inputData=e,o.result.then(a=>{1==a.isSearch&&console.log(a)},a=>{console.log(`Modal dismissed with: ${JSON.stringify(a)}`)})}onTimeRangeChange(){this.initEnvironMentCharts()}getTimeSeriesDetails(){this.testno=this.projectDetails.TestRunCount,this.getFavorite(),this.projectService.getTimeSeriesById(this.ProjectId,this.testno).subscribe(e=>{"Running"!=this.projectDetails.Status?(this.dash=e[1],this.calTime=e[0].caltime):(this.dash=e[0],this.calTime=e[0].caltime);let o=new Date(this.dash.DateTime),a=new Date(this.dash.DateTime);o.setHours(o.getHours()-5),o.setMinutes(o.getMinutes()-30),a.setHours(a.getHours()-5),a.setMinutes(a.getMinutes()-30),a.setHours(a.getHours()-24),"Running"===this.projectDetails.Status?(o=new Date,a=new Date,a.setHours(a.getHours()-1)):this.intervalCharSubscription?.unsubscribe(),o.setMinutes(o.getMinutes()+1),this.fromDate=a,this.toDate=o,this.pumpRPM(),this.dischargePressure(),this.dischargeFlow(),this.InAirFtChart(),1!=this.storevalue&&(this.initEnvironMentCharts(),this.formatTimeModalDate()),this.pumpRPMAirPressure(),this.getProjectRunTimeData()})}getTestBenchData(){this.projectService.getTestBenchSequence(this.ProjectId,this.testno).subscribe(e=>{console.log(this.projectDetails);const o=e[0];let a=!1;const s=["DischargeVOpen","ControlVOpen","SuctionVOpen","SuctionPTThreshold","MotorRunFeedback","TestStableTimeDone","TestStableTimeDone","MotorStopFeedback","SuctionDischargeVClose"].map(h=>{let v;if(o.hasOwnProperty(h)){let u="";return"DischargeVOpen"==h?u="Discharge Valve Open":"ControlVOpen"==h?u="Control Valve > 90% Open":"SuctionVOpen"==h?u="Suction Valve Open":"SuctionPTThreshold"==h?u=" Suction PT value > Threshold":"MotorRunFeedback"==h?(u="Motor Run Feedback","AODD"===this.projectDetails.ProjectType&&(u="In Air Pressure > Threshold")):"TestStableTimeDone"==h?a?(u="Test Run",v=o[h]&&"Running"==this.projectDetails.Status):(a=!0,u="Test Stabilized"):"MotorStopFeedback"==h?(u="Motor Stopped","AODD"===this.projectDetails.ProjectType&&(u="In Air Pressure < Threshold")):"SuctionDischargeVClose"==h&&(u=" Suction & Discharge Valve Close"),{title:u,status:v??o[h]}}return null}).filter(h=>null!==h);this.testBenchSequence=s})}openDateTimeModal(){const a={startDate:this.jsStartDate,endDate:this.jsEndDate},r=this.modalService.open(f.Z);r.componentInstance.inputData=a,r.result.then(s=>{const v=new Intl.DateTimeFormat("en-US",{hourCycle:"h24",year:"2-digit",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),u=new Date(s.dateData.startDate.year,s.dateData.startDate.month-1,s.dateData.startDate.day,s.dateData.startTime.hour,s.dateData.startTime.minute,0),D=v.format(u),S=new Date(s.dateData.endDate.year,s.dateData.endDate.month-1,s.dateData.endDate.day,s.dateData.endTime.hour,s.dateData.endTime.minute,0),x=v.format(S);console.log(D+" - "+x),this.formattedDateTimeRange=D+" - "+x,this.jsStartDate=u,this.jsEndDate=S,this.fromDate=this.formatDate(this.jsStartDate),this.toDate=this.formatDate(this.jsEndDate),console.log(this.fromDate),this.storevalue=1,this.initEnvironMentCharts(),this.initEnvironMentCharts()},s=>{console.log(`Modal dismissed with: ${s}`)})}formatDate(e){return`${e.getFullYear()}-${this.padZero(e.getMonth()+1)}-${this.padZero(e.getDate())}T${this.padZero(e.getHours()-5)}:${this.padZero(Math.abs(e.getMinutes()-28))}`}padZero(e){return e<10?`0${e}`:`${e}`}initEnvironMentCharts(){const o=this.calculateStartTime(new Date);this.gStartTime=o.toLocaleString(),console.log(this.fromDate,this.toDate),this.projectService.getTimeSeriesByIdForRunPro(this.ProjectId,this.testno,this.fromDate.toLocaleString(),this.toDate.toLocaleString()).subscribe(a=>{if(this.dataForPumpRPM=[],this.dataForDisPre=[],this.dataForDisFlow=[],this.dataForMotorPower=[],this.dataForStrokeRate=[],this.dataForInAirPV=[],this.dataForInAirSP=[],this.dataForMotorKW=[],this.dataForMotorKWh=[],this.dataForDisPreSP=[],this.dataForMotorRPM=[],this.dataForMotorAMP=[],this.datasetforChart=[],console.log(a.length,"Array"),a){this.getTableData(),a.map(s=>{this.dataForDisPre.push({value:s.DischargePressurePV}),this.dataForDisFlow.push({value:s.DischargeFlow}),this.dataForMotorPower.push({value:s.MotorKW}),this.dataForStrokeRate.push({value:s.StrokeCountRate}),this.dataForPumpRPM.push({value:s.PumpRPM}),this.dataForInAirPV.push({value:s.AoddInAirPressPV}),this.dataForInAirSP.push({value:s.InAirPressSP}),this.dataForMotorKW.push({value:s.MotorKW}),this.dataForMotorKWh.push({value:s.MotorKWH}),this.dataForDisPreSP.push({value:s.DischargePressureSP}),this.dataForMotorRPM.push({value:s.MotorRPM}),this.dataForMotorAMP.push({value:s.MotorAMP}),this.time.push({label:new Date(s.DateTime)})}),this.dataForPumpRPM.reverse(),this.dataForDisPre.reverse(),this.dataForDisPreSP.reverse(),this.dataForDisFlow.reverse(),this.dataForMotorPower.reverse(),this.dataForStrokeRate.reverse(),this.dataForInAirPV.reverse(),this.dataForInAirSP.reverse(),this.dataForMotorKW.reverse(),this.dataForMotorKWh.reverse(),this.dataForMotorRPM.reverse(),this.dataForMotorAMP.reverse(),this.time.reverse(),console.log(this.dataForDisFlow,"Disflow");const r=this.dataForPumpRPM.length;"AODD"==this.projectDetails.ProjectType?this.datasetforChart=[{seriesname:"Inlet Air Press. PV",data:this.dataForInAirPV.slice(0,r)},{seriesname:"Inlet Air Press. SP",data:this.dataForInAirSP.slice(0,r)},{seriesname:"Discharge Press PV",data:this.dataForDisPre.slice(0,r)},{seriesname:"Discharge Press SP",data:this.dataForDisPreSP.slice(0,r)},{seriesname:"Discharge Flow",data:this.dataForDisFlow.slice(0,r)},{seriesname:"Stroke Rate",data:this.dataForStrokeRate.slice(0,r)}]:"EODD"==this.projectDetails.ProjectType&&(this.datasetforChart=[{seriesname:"Pump RPM",data:this.dataForPumpRPM.slice(0,r)},{seriesname:"Motor AMP",data:this.dataForMotorAMP.slice(0,r)},{seriesname:"Motor KW",data:this.dataForMotorKW.slice(0,r)},{seriesname:"Discharge Press SP",data:this.dataForDisPreSP.slice(0,r)},{seriesname:"Discharge Press PV",data:this.dataForDisPre.slice(0,r)},{seriesname:"Discharge Flow",data:this.dataForDisFlow.slice(0,r)}]),"AODD"==this.projectDetails.ProjectType?this.initChartData(this.dataForInAirPV,this.dataForInAirSP,this.dataForDisPre,this.dataForDisPreSP,this.dataForDisFlow,this.dataForStrokeRate,r,this.time):this.initChartData(this.dataForPumpRPM,this.dataForMotorKW,this.dataForDisPre,this.dataForDisFlow,this.dataForMotorPower,this.dataForMotorAMP,r,this.time)}else this.showChart=!0,this.getTableData(),console.log("Invalid data structure:",a),this.intervalCharSubscription?.unsubscribe(),this.spinner.hide()})}getTableData(){const e=new Date(this.fromDate).toLocaleString(),o=new Date(this.toDate).toLocaleString();this.projectService.getTableData(this.ProjectId,this.projectDetails.TestRunCount,e,o).subscribe(r=>{this.tableData=r,console.log(this.tableData,"lenghth"),0==r.length&&(this.tableView=!1),r&&r.length&&(this.displayedColumns=Object.keys(r[0]))})}onreset(){this.storevalue=0}getProjectRunTimeData(){this.projectService.getProjectRunTime(this.ProjectId).subscribe(e=>{console.log(e,"pop"),this.Time=0==Object.keys(e).length?this.calTime:e.Time})}pumpRPM(){this.cureentValueforGuage=this.dash.PumpRPM.toFixed(2);const e=this.dash.PumpRPMMax.toFixed(2),o={chart:{lowerLimit:this.dash.PumpRPMMin.toString(),upperLimit:e.toString(),displayLowerLimit:"1",displayUpperLimit:"1",showValue:"1",valueFont:"Arial",valueFontBold:"1",showhovereffect:"1",valueBelowPivot:"1",theme:"fusion",captionFontColor:"black",canvasBorderRadius:"15",baseFontSize:"10",valueFontSize:"12",autoAlignTickValues:"1",manageValueOverLapping:"1",baseFontColor:"black",chartTopMargin:"0",chartBottomMargin:"-4",chartLeftMargin:"0",chartRightMargin:"0",showTickMarks:"0",showTickValues:"1",placeValuesInside:"1",majorTMNumber:2,outCnvBaseFontColor:"#000000",pivotFillColor:"#5599CC",pivotFillAlpha:"100",gaugeInnerradius:"85%",gaugeFillMix:"{light+0}",showBorder:"0",canvasBgAlpha:"0",transposeAnimation:"1",tickValueDistance:"1",bgAlpha:"0",numberSuffix:" RPM",numberSuffixFontSize:"20"},annotations:{groups:[{items:[{id:"2",type:"text",align:"center",bold:"1",fontSize:"15",color:"#ffffff",x:"$chartcenterX",y:"$chartCenterY + 65"}]}]},colorRange:{color:[{minValue:this.dash.PumpRPMMin.toString(),maxValue:this.cureentValueforGuage.toString(),code:"#219653"},{minValue:this.cureentValueforGuage.toString(),maxValue:Number(e),code:"#D3D3D3"}]},dials:{dial:[{value:this.cureentValueforGuage+"RPM",bgHoverColor:"#cccccc",color:this.getNeedleColor_PumpRPM(this.cureentValueforGuage)}]}};this.dataSourcePumpRPM1=o}getNeedleColor_PumpRPM(e){return e<=this.dash.PumpRPMMax?"#219653":"#FF9898"}pumpRPMAirPressure(){this.cureentValueforGuage=this.dash.AoddInAirPressPV.toFixed(2);const e={chart:{lowerLimit:this.dash.inAirPTScaleMin.toString(),upperLimit:this.dash.inAirPTScaleMax.toString(),showValue:"1",valueFont:"Arial",valueFontBold:"1",showhovereffect:"1",valueBelowPivot:"1",theme:"fusion",captionFontColor:"black",canvasBorderRadius:"15",baseFontSize:"10",valueFontSize:"12",autoAlignTickValues:"1",manageValueOverLapping:"1",baseFontColor:"black",chartTopMargin:"0",chartBottomMargin:"-4",chartLeftMargin:"0",chartRightMargin:"0",showTickMarks:"0",showTickValues:"1",placeValuesInside:"1",majorTMNumber:2,outCnvBaseFontColor:"#000000",pivotFillColor:"#5599CC",pivotFillAlpha:"100",gaugeInnerradius:"85%",gaugeFillMix:"{light+0}",showBorder:"0",canvasBgAlpha:"0",transposeAnimation:"1",tickValueDistance:"1",bgAlpha:"0",numberSuffix:" BAR",numberSuffixFontSize:"20"},annotations:{groups:[{items:[{id:"2",type:"text",align:"center",bold:"1",fontSize:"15",color:"#ffffff",x:"$chartcenterX",y:"$chartCenterY + 65"}]}]},colorRange:{color:[{minValue:this.dash.inAirPTScaleMin.toString(),maxValue:this.cureentValueforGuage.toString(),code:"#219653"},{minValue:this.cureentValueforGuage.toString(),maxValue:this.dash.inAirPTScaleMax.toString(),code:"#FF9898"}]},dials:{dial:[{value:this.cureentValueforGuage,bgHoverColor:"#cccccc",color:this.getNeedleColor_RPMAirPress(this.cureentValueforGuage)}]}};this.dataSourcePumpRPMAirPressure=e}getNeedleColor_RPMAirPress(e){return e<=this.cureentValueforGuage?"#219653":"#FF9898"}dischargePressure(){this.cureentValueforGuage=(this.dash.DischargePressurePV||0).toFixed(2);const e=this.dash.DischargePTScaleMax.toFixed(2),o={chart:{lowerLimit:this.dash.DischargePTScaleMin.toString(),upperLimit:e.toString(),showValue:"1",valueFont:"Arial",valueFontBold:"1",showhovereffect:"1",valueBelowPivot:"1",theme:"fusion",captionFontColor:"black",canvasBorderRadius:"15",baseFontSize:"10",valueFontSize:"12",autoAlignTickValues:"1",manageValueOverLapping:"1",baseFontColor:"black",chartTopMargin:"0",chartBottomMargin:"-4",chartLeftMargin:"0",chartRightMargin:"0",showTickMarks:"0",showTickValues:"1",placeValuesInside:"1",majorTMNumber:2,outCnvBaseFontColor:"#000000",pivotFillColor:"#5599CC",pivotFillAlpha:"100",gaugeInnerradius:"85%",gaugeFillMix:"{light+0}",showBorder:"0",canvasBgAlpha:"0",transposeAnimation:"1",tickValueDistance:"1",bgAlpha:"0",numbersuffix:" BAR",numberSuffixFontSize:"20"},annotations:{groups:[{items:[{id:"2",type:"text",align:"center",bold:"1",fontSize:"15",color:"#ffffff",x:"$chartcenterX",y:"$chartCenterY + 65"}]}]},colorRange:{color:[{minValue:this.dash.DischargePTScaleMin.toString(),maxValue:this.dash.DischargePThSP.toString(),code:"#219653"},{minValue:this.dash.DischargePThSP.toString(),maxValue:this.dash.DischargePThhSP.toString(),code:"#FFD12E"},{minValue:this.dash.DischargePThhSP.toString(),maxValue:this.dash.DischargePTScaleMax.toString(),code:"#FF9898"}]},dials:{dial:[{value:this.cureentValueforGuage+"%",bgHoverColor:"#cccccc",bgColor:this.colorChangeNeedle(this.cureentValueforGuage,this.dash.DischargePTScaleMin,this.dash.DischargePThSP,this.dash.DischargePThhSP,this.dash.DischargePTScaleMax)}]}};this.dataSourceDischargePressure=o}colorChangeNeedle(e,o,a,r,s){return 1!=this.dash.DischargePThhEn?e>s?"D3D3D3":"#219653":e>o&&e<a?"#219653":e>a&&e<r?"#FFD12E":e>r&&e<s?"#FF9898":""}getNeedleColor_DischargePress(e){return e<=this.dash.DischargePTScaleMax?"#219653":"#FF9898"}dischargeFlow(){this.cureentValueforGuage=(this.dash.DischargeFlow||0).toFixed(2);const e=this.dash.FlowScaleMax.toFixed(2),o={chart:{lowerLimit:this.dash.FlowScaleMin.toString(),upperLimit:e.toString(),showValue:"1",valueFont:"Arial",valueFontBold:"1",showhovereffect:"1",valueBelowPivot:"1",theme:"fusion",captionFontColor:"black",canvasBorderRadius:"15",baseFontSize:"10",valueFontSize:"12",autoAlignTickValues:"1",manageValueOverLapping:"1",baseFontColor:"black",chartTopMargin:"0",chartBottomMargin:"-4",chartLeftMargin:"0",chartRightMargin:"0",showTickMarks:"0",showTickValues:"1",placeValuesInside:"1",majorTMNumber:2,outCnvBaseFontColor:"#000000",pivotFillColor:"#5599CC",pivotFillAlpha:"100",gaugeInnerradius:"85%",gaugeFillMix:"{light+0}",showBorder:"0",canvasBgAlpha:"0",transposeAnimation:"1",tickValueDistance:"1",bgAlpha:"0",numbersuffix:" L"},annotations:{groups:[{items:[{id:"2",type:"text",align:"center",bold:"1",fontSize:"15",color:"#ffffff",x:"$chartcenterX",y:"$chartCenterY + 65"}]}]},colorRange:{color:[{minValue:this.dash.FlowScaleMin.toString(),maxValue:this.cureentValueforGuage.toString(),code:"#219653"},{minValue:this.cureentValueforGuage.toString(),maxValue:this.dash.FlowScaleMax.toString(),code:"#D3D3D3"}]},dials:{dial:[{value:this.cureentValueforGuage+"%",bgHoverColor:"#cccccc",color:this.getNeedleColor_DischargeFlow(this.cureentValueforGuage)}]}};this.dataSourceDischargeFlow=o}getNeedleColor_DischargeFlow(e){return e<=this.dash.FlowScaleMax?"#219653":"#FF9898"}InAirFtChart(){this.cureentValueforGuage=(this.dash.AoddInAirSCFMPV||0).toFixed(2);const e={chart:{lowerLimit:this.dash.inAirFTScaleMin||0,upperLimit:this.dash.inAirFTScaleMax||0,displayLowerLimit:"1",displayUpperLimit:"1",showValue:"1",valueFont:"Arial",valueFontBold:"1",showhovereffect:"1",valueBelowPivot:"1",theme:"fusion",captionFontColor:"black",canvasBorderRadius:"15",baseFontSize:"10",valueFontSize:"12",autoAlignTickValues:"1",manageValueOverLapping:"1",baseFontColor:"black",chartTopMargin:"0",chartBottomMargin:"-4",chartLeftMargin:"0",chartRightMargin:"0",showTickMarks:"0",showTickValues:"1",placeValuesInside:"1",majorTMNumber:2,outCnvBaseFontColor:"#000000",pivotFillColor:"#5599CC",pivotFillAlpha:"100",gaugeInnerradius:"85%",gaugeFillMix:"{light+0}",showBorder:"0",canvasBgAlpha:"0",transposeAnimation:"1",tickValueDistance:"1",bgAlpha:"0",numberSuffix:" SCFM",numberSuffixFontSize:"20"},annotations:{groups:[{items:[{id:"2",type:"text",align:"center",bold:"1",fontSize:"15",color:"#ffffff",x:"$chartcenterX",y:"$chartCenterY + 65"}]}]},colorRange:{color:[{minValue:this.dash.inAirFTScaleMin,maxValue:this.cureentValueforGuage,code:"#219653"},{minValue:this.cureentValueforGuage,maxValue:this.dash.inAirFTScaleMax,code:"#D3D3D3"}]},dials:{dial:[{value:this.cureentValueforGuage,bgHoverColor:"#cccccc",color:this.getNeedleColor_PumpRPM(this.cureentValueforGuage)}]}};this.dataSourceInAirFT=e}getNeedleColor_InAirFT(e){return e<=this.dash.inAirFTScaleMax?"#219653":"#FF9898"}initChartData(e,o,a,r,s,h,v,u){const D={chart:{showhovereffect:"1",showLabels:0,drawcrossline:"1",anchorRadius:"0",bgColor:"none",plottooltext:"<b>$seriesname<b>:$dataValue",theme:"fusion",captionAlignment:"left"},categories:[{category:u}],dataset:this.datasetforChart};this.dataSourceChart=D;const S=this.gStartTime,x=[];D.dataset.forEach(I=>{const O=[],R=new Date(S);I.data.forEach((Mt,V)=>{const U=new Date(R);0!=V&&(U.setMinutes(U.getMinutes()+1),R.setMinutes(R.getMinutes()+1));const P=new Date(u[V].label);P.setHours(P.getHours()-5),P.setMinutes(P.getMinutes()-30),O.push({x:P,y:Mt.value})}),x.push({name:I.seriesname,dataPoints:O})}),this.timeSeriesData=x,console.log(this.timeSeriesData,"TimeSeriesData"),this.dashService.timeSeriesData.next(this.timeSeriesData),this.spinner.hide(),this.showChart=!0}formatTimeModalDate(){const o=new Intl.DateTimeFormat("en-US",{hourCycle:"h24",year:"2-digit",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),a=this.toDate;this.jsEndDate=a;const r=o.format(a),s=this.fromDate;this.jsStartDate=s;const h=o.format(s);console.log(h+" - "+r),this.formattedDateTimeRange=h+" - "+r}calculateStartTime(e){const o=new Date(e.getTime());return"1"===this.selectedTimeRange?o.setHours(o.getHours()-1):"3"===this.selectedTimeRange?o.setHours(o.getHours()-3):"6"===this.selectedTimeRange?o.setHours(o.getHours()-6):"24"===this.selectedTimeRange&&o.setHours(o.getHours()-24),o.setMinutes(o.getMinutes()+1),o}getFavorite(){const e={uid:this.uid,projectid:this.ProjectId,testno:this.testno};console.log(e),this.headerService.SelectFav(e).subscribe(o=>{console.log(o),this.fid=o[0]?.fid,this.favSelect=o[0]?.status,console.log(this.favSelect)})}deletFav(){confirm("Are you sure you want to remove from favorite?")&&this.projectService.deleteFav(this.fid).subscribe({next:()=>{this.toastService.show({template:"Removed from Favorite!!",classname:"bg-success",delay:3e3}),this.favSelect=!1},error:o=>{console.warn(o),this.toastService.show({template:"Failed to remove from favorite!!",classname:"bg-danger",delay:3e3})}})}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(c.u),t.Y36(g.k),t.Y36(p.r),t.Y36(m.FF),t.Y36(_.Y),t.Y36(Z.s),t.Y36(y.t2),t.Y36(k.gz))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-running-projects"]],standalone:!0,features:[t.jDz],decls:2,vars:1,consts:[["type","ball-scale-multiple"],["class","running-projects",4,"ngIf"],[1,"running-projects"],[1,"row","sec-first","mt-3"],["class","top-card col-12 col-md-2 cust-col-2",4,"ngFor","ngForOf"],[1,"dv-favourite","mt-3"],[1,"breadcrumb","justify-content-end"],[1,"breadcrumb-item"],[1,"dv-remote-action","d-flex","gap-2","align-items-center"],["for","remote-stop"],[1,"form-check","form-switch","d-flex","flex-row-reverse"],["type","checkbox","id","remote-stop","role","switch",1,"form-check-input",3,"checked","disabled","click"],["role","button",1,"btn","btn-info",3,"click"],[1,"fas","fa-history"],[1,"far","fa-file-alt"],["class","btn btn-info","role","button",3,"click",4,"ngIf"],["class","btn btn-warning","role","button",3,"click",4,"ngIf"],[1,"test-bench-sequence","mt-3"],["cardTitle","Live Test Bench Sequence",3,"options"],[1,"row"],["class","col-12 col-md-1 cust-col-1",4,"ngFor","ngForOf"],[1,"col-md-12","kpiCharts","mt-3"],["cardTitle","",3,"options"],["class","overflow-hidden",4,"ngIf"],[1,"col-md-12","parameterTrendView","mt-3"],["cardTitle","Parameter Trend View",3,"options"],[1,"col-md-6"],[1,"title","fw-bold"],[1,"col-md-6","d-flex","justify-content-end","dateRangePicker","px-2"],[1,"custom-datetime-range-span",3,"click"],[1,"fas","fa-calendar"],[1,"btn","btn-primary","btn-reset",3,"click"],[3,"_customRangeSelector"],[1,"mt-3"],["cardTitle","Statistical Data",3,"options"],[1,"table-responsive"],[1,"table","table-styling","text-center"],[2,"background-color","rgba(94, 83, 83, 0.5)"],["scope","col",4,"ngFor","ngForOf"],[2,"font-size","13px"],[4,"ngFor","ngForOf"],[1,"top-card","col-12","col-md-2","cust-col-2"],["blockClass","running-top-card",3,"hidHeader","cardClass",4,"ngIf"],["blockClass","running-top-card",3,"hidHeader","cardClass"],[1,"text-white","d-flex","gap-2","align-items-center","first-label"],[1,"text-white","sec-label"],[4,"ngIf"],[1,"fas","fa-star"],["role","button",1,"btn","btn-warning",3,"click"],[1,"col-12","col-md-1","cust-col-1"],[1,"test-card",3,"ngClass"],["class","arrow-right",4,"ngIf"],["class","arrow-down",4,"ngIf"],[1,"arrow-right"],["width","24","height","24","xmlns","http://www.w3.org/2000/svg","fill-rule","evenodd","clip-rule","evenodd"],["d","M4 .755l14.374 11.245-14.374 11.219.619.781 15.381-12-15.391-12-.609.755z"],[1,"arrow-down"],["d","M23.245 4l-11.245 14.374-11.219-14.374-.781.619 12 15.381 12-15.391-.755-.609z"],[1,"overflow-hidden"],[1,"row","align-items-end","pt-0"],[1,"col-md-2","card-rt-br","kpi-chart-card-mh"],[1,"liveTest-heading","heading-style","mb-1","text-center"],["class","position-relative d-flex flex-column align-items-center justify-content-center",4,"ngIf"],[1,"position-relative","d-flex","flex-column","align-items-center","justify-content-center"],[3,"width","height","type","dataFormat","dataSource"],[1,"dv-p-main"],[1,"text-center","gauge-chart-bt-title"],[2,"font-weight","600","text-align","center"],[1,"col-md-4","projectDetails"],[1,"liveTest-heading","date-time-title","heading-style","mb-1",3,"ngStyle"],[1,"row","m-rl-5"],[1,"col-md-4"],[1,"card","mycard"],[1,"d-flex","align-items-start","pe-4"],[1,"text-nowrap","text-white"],[1,"p-1","fw-bold","text-white"],[1,"text-nowrap"],["class","text-nowrap",4,"ngIf"],["class","p-1 fw-bold text-white",4,"ngIf"],[1,"d-flex","align-items-start","pe-3"],[1,"text-center"],[1,"d-flex","flex-column","align-items-center","justify-content-center","mb-3"],[2,"height","40px","margin-bottom","15px"],["src","../../../assets/images/motor.ico","height","40px","width","30px",1,"apply-filter"],[1,"d-flex","align-items-center","justify-content-center","fw-bold"],[2,"text-align","center"],[1,"text-nowrap","mb-1"],[2,"color","gray"],[1,"d-flex","flex-column","align-items-center","justify-content-center","mb-2"],[1,"d-flex","flex-column","align-items-center","justify-content-center"],[1,"d-flex","align-items-center","justify-content-center","fw-bold","mt-2"],[2,"color","gray","margin-bottom","-8px"],[1,"d-flex","flex-column","align-items-center","justify-content-center","mb-1"],[2,"text-align","center","margin-top","15px"],["scope","col"]],template:function(o,a){1&o&&(t._UZ(0,"ngx-spinner",0),t.YNc(1,Tt,54,15,"div",1)),2&o&&(t.xp6(1),t.Q6J("ngIf",a.showChart))},dependencies:[n.ez,n.mk,n.sg,n.O5,n.PC,n.JJ,n.uU,w.m,q.A,y.Ro,A.Z,b.Qf,b.PZ],styles:[".running-projects .liveTest-heading.date-time-title{margin-bottom:47px!important}  .running-projects .top-card{padding:0 5px!important}  .running-projects .test-card{padding:0 10px;font-size:11px;font-weight:500;display:grid;place-items:center;min-height:65px;margin:0}  .running-projects .test-card+svg{width:25px;margin:0 5px}  .running-projects .sec-first{padding:0 15px}  .running-projects .sec-first .card-body{height:110px!important}  .running-projects .mycard{background-color:#5072a7;border:.2px gray;box-shadow:0 4px 8px #0003,0 6px 20px #00000030;margin-bottom:10px;font-size:11px;padding:5px;color:#fff}  .running-projects .mycard h5{font-size:12px}  .running-projects .mycard h6{color:#fff;font-size:10px}  .running-projects .projectDetails .col-md-4{padding:3px}  .running-projects .card .card-body{padding:10px 8px!important}  .running-projects .test-bench-sequence .test-card{border-radius:5px;color:#fff;text-align:center}  .running-projects .test-bench-sequence .card .card-header{padding:10px}  .running-projects .test-bench-sequence .card-body{height:unset!important}  .running-projects .kpiCharts .card-header{display:none}  .running-projects .parameterTrendView .card-header{display:none}  .running-projects .card-body{height:unset!important}  .running-projects .liveTest-heading{margin-bottom:20px!important;text-align:center}  .running-projects .btn-reset{padding:2px 8px;margin:0 4px}  .running-projects .card-rt-br{border-right:1px solid rgba(51,51,51,.2)}  .running-projects .kpi-chart-card-mh{min-height:197px}  .running-projects .gauge-chart-bt-title{min-height:20px}  .running-projects .pt40{padding-top:40px}  .running-projects .mt20{margin-top:20px}  .running-projects .pb20{padding-bottom:20px}  .running-projects .m-rl-5{margin:0 5px}  .running-projects .form-check-input:checked{background-color:green;border-color:green}  .running-projects .custom-datetime-range-span{padding:2px 8px;border:solid 1px rgb(206,212,218);border-radius:20px}  .running-projects .custom-datetime-range-span i{margin-right:15px}@media only screen and (min-width: 769px){  .running-projects .top-card:first-child{padding-left:0!important}  .running-projects .top-card:last-child{padding-right:0!important}  .running-projects .cust-col-1{width:11%!important;margin:0;display:flex;padding:0}  .running-projects .cust-col-1:first-child{margin-left:10px}  .running-projects .test-card{width:130px}  .running-projects .cust-col-2{width:14.28%!important}  .running-projects .running-top-card{position:relative;padding:10px!important}  .running-projects .running-top-card .first-label{padding:10px 0;position:absolute;top:0;font-size:15px}  .running-projects .running-top-card .sec-label{position:absolute;bottom:0;font-size:15px;font-weight:700}  .running-projects .arrow-down{display:none!important}  .running-projects .arrow-right{display:grid;place-items:center;margin:0}  .running-projects .breadcrumb .breadcrumb-item:last-child{padding-right:0}}@media only screen and (max-width: 768px){  .running-projects .breadcrumb-item{padding-right:0}  .running-projects .top-card{padding:5px!important}  .running-projects .running-top-card{position:relative;padding:10px!important}  .running-projects .running-top-card .first-label{padding:10px 0;position:absolute;top:0;font-size:12px}  .running-projects .running-top-card .sec-label{position:absolute;bottom:0;font-size:16px}  .running-projects .arrow-right{display:none!important}  .running-projects .arrow-down{text-align:center;margin:15px 0}  .running-projects .breadcrumb-item{padding:0 10px 4px;width:100%}  .running-projects .breadcrumb-item a,   .running-projects .breadcrumb-item .dv-remote-action{float:right}  .running-projects .card-rt-br{border-bottom:1px solid rgba(51,51,51,.2)}}  .running-projects ul.breadcrumb{padding-right:0}  .running-projects .card{margin-bottom:0}  .running-projects .breadcrumb-item+.breadcrumb-item:before{content:none!important}"]})}return i})()}}]);